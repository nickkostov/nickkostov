<!DOCTYPE html>
<html lang="en">
  {% include head.html %}
  <body>
    <div id="indicator"></div>
    <div id="page">
      <style>
        .title {
          padding: 10% 5%;
          color: #101417;
          font-size: 18px;
          font-weight: bold;
          text-align: center;
          background: #94f766;
          display: grid;
        }
      </style>
      <!-- header -->
      {% include header.html %}
      <!-- nav -->
      {% include nav.html %}
      <!-- page content -->
      <main class="content">
        <p class="title">
          {{page.title}}
        </p>
        {{content}}
      </main>

      <!-- footer -->
      {% include footer.html %}
      <!-- Include Terminal Animation :) -->
      <link rel="stylesheet" href="{{ '/assets/css/terminal-live.css' | absolute_url }}">
      <script src="{{ '/assets/js/terminal-live.js' | absolute_url }}"></script>    

    </div>
<script>
  (function () {
    function renderDiagBlocks(root = document) {
      // Works with kramdown + Rouge output
      const blocks = root.querySelectorAll(
        'pre > code.language-diag, pre > code.lang-diag, pre > code.diag'
      );

      blocks.forEach(code => {
        const pre = code.parentElement;
        const container = document.createElement('div');
        container.className = 'mermaid';
        container.textContent = code.textContent.trim();
        pre.replaceWith(container);
      });

      mermaid.run({ querySelector: '.mermaid' });
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => renderDiagBlocks(document));
    } else {
      renderDiagBlocks(document);
    }

    // If you add PJAX/Turbo later, call window.__renderDiagBlocks(newContent)
    window.__renderDiagBlocks = renderDiagBlocks;
  })();
</script>

  </body>
</html>
